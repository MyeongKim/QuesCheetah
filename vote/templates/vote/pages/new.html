{% extends 'main/base.html' %}

{% load staticfiles %}

{% block stylesheet %}{% endblock %}
{% block content %}
    {{ msg }}
    <h3>Let's make a new vote.</h3>
    <p>최대 보기 수는 9개입니다.</p>
    <div class="row">
    <div class="col-sm-6">

        <form class="form-horizontal" action="" method="post">
            {% csrf_token %}
            <div class="form-group">
                <label for="question_title" class="col-sm-2 control-label">질문 제목</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="question_title" name="question_title" placeholder="관리자가 보는 질문 제목을 입력하세요.(중복 불가)">
                </div>
            </div>
            <div class="form-group">
                <label for="question_text" class="col-sm-2 control-label">질문</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="question_text" name="question_text" placeholder="질문을 입력하세요.">
                </div>
            </div>
            <div class="answer-wrapper">
                <div class="form-group answer">
                    <label for="answer1" class="col-sm-2 control-label">보기1</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="answer1" placeholder="answer1", name="answer1">
                    </div>
                </div>
                <div class="form-group answer">
                    <label for="answer2" class="col-sm-2 control-label">보기2</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" id="answer2" placeholder="answer2", name="answer2">
                    </div>
                </div>
            </div>

            <div>
                <button class="btn btn-info" id="add-answer-btn">보기 추가하기</button>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-default">만들기</button>
                </div>
            </div>
        </form>
    </div>
    </div>
{% endblock %}

{% block script %}
    <script>
    $(document).ready(function(){

        $('#add-answer-btn').on('click',function (e) {
            e.preventDefault();
            var newNum = $('.answer').length + 1;
            if(newNum == 10){
                alert('9개 이상 등록하실 수 없습니다.');
                return -1;
            }
            $('.answer-wrapper').append('<div class="form-group answer">\
                <label for="answer'+newNum+'" class="col-sm-2 control-label">보기'+newNum+'</label>\
                <div class="col-sm-10">\
                    <input type="text" class="form-control" id="answer'+newNum+'" placeholder="answer'+newNum+'", name="answer'+newNum+'">\
                </div>\
            </div>');
        });


    });
    </script>
{% endblock %}